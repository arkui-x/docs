**ArkUI 跨平台框架路线图** - 2022

2022年，ArkUI跨平台项目聚焦在构建跨平台框架的核心设施， 将ArkUI的能力扩展到iOS和Android平台上。开发者可以通过一份代码，结合相应的工具链，同时生成三端的应用工程-OpenHarmony, iOS, Android，并可编译出相应的应用程序，在相应的平台上高效的运行。 关键特性集包括以下几个方面 (具体的特性范围可能会根据实际的演进情况有所调整)：

- 编译工具链
编译工具链提供两类命令行工具：一类是面向ArkUI框架开发者，它可以构建出相应平台的ArkUI SDK（比如iOS,Android），供应用打包分发使用(OpenHarmony系统由于内置了ArkUI，则无需和应用一起打包）；另一类是面向应用开发者，它提供创建不同平台的应用工程，基于相关的SDK编译工程生成目标平台的应用，启动应用等相应功能。命令行工具支持的PC平台包括Windows（通过WSL - Windows Subsystem for Linux）, Mac, Linux。

- 平台桥接
平台桥接提供了相应的平台能力桥接，包括目标平台的应用加载入口，生命周期，事件处理，窗口系统，资源管理，剪切板，输入法，摄像头，以及其他高级组件接入等相关能力。

- UI组件适配
UI组件适配提供了UI组件在不同平台上的绘制效果的一致性。由于ArkUI架构上是通过自绘制能力实现相应效果，这块主要是以验证为主。

- 基础API能力适配
基础API能力适配包括了两方面内容：API扩展机制以及API的具体实现。 API的扩展机制基于N-API实现的，需要在不同的平台上做相应的适配； API的实现主要包括OpenHarmony的平台能力JS API， HMS（Huawei Mobile Service）的JS API在不同平台上的实现。具体的API实现节奏会结合相应的应用需求来推进。

- 应用嵌入集成
应用嵌入集成提供了目标平台应用和ArkUI集成的能力，目标平台应用可以一部分基于现有的平台代码实现，另一部分引入ArkUI的实现，这样有助于应用逐步的平滑的迁移到ArkUI。

- 调试能力
调试能力主要是指在非OpenHarmony平台上的调试能力，需要对ArkUI在不同平台上的调试能力做相应的适配和使能，后续也会包括相应的IDE插件能力的构建。

- XTS基础设施
XTS基础设施主要是验证ArkUI框架能力在不同平台上的兼容性，通过同一套的XTS测试集（包括UI以及API）在不同平台上使能，来保证ArkUI框架能力在不同OS平台实现效果的一致性。

- 架构演进
架构演进主要包括可维护性的增强（架构解耦-组件API按需加载，分层抽象-渲染后端的抽象以便平滑过渡等），以及在性能、内存、包体积相关的优化等。这块会结合OpenHarmony上 ArkUI本身的演进（最小化更新/并行化改造/渲染数据结构重构/2D-3D融合等），和跨平台的相关需求逐步推进。

**目前进展**

截至2022年5月，ArkUI跨OS平台项目初步完成了Alpha版本，包含

- 基础的编译工具链，能够生成iOS/Android的SDK，编译出相应的应用并运行在目标平台上
- 基础的平台桥接能力，包括iOS/Android的应用加载入口，生命周期，事件处理，窗口系统等
- 基础的UI组件适配能力，包括常用的UI组件（请见相应的UI Sample示例）
- XTS基础设施，包括常用的UI测试

非常感谢我们的合作伙伴-**美的IoT移动端架构团队**，**阿里巴巴闲鱼技术团队**和我们共同创建了ArkUI跨OS平台的第一个版本。虽然目前这个版本还比较简单，也有不少待解决的Bug，但整个跨平台框架的基础设施已初步具备。接下来我们会围绕上述的关键特性，结合典型的应用逐步推进，每三个月左右推出一个版本，进一步完善相应的功能，以及运行体验。也欢迎更多感兴趣的开发者加入进来，一起推进，一起创新，共建丰富的应用生态！

